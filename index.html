<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>大家的幻想乡皮肤图鉴</title>
    <script type="text/javascript" src="skin.js"></script>
    <link href="skin.css" rel="stylesheet" type="text/css">
    <link href="skin-polygon.css" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="icon.png" type="image/x-png" />
</head>

<body>
    <h1>大家的幻想乡皮肤图鉴</h1>
    <ul id="message">
        <li>目前目前是1.0.2.4版本的数据，皮肤图片加Q版头像会<b>耗费约 <span id="MB">60.32</span>MB 的流量</b>（<span id="Pic-Format">无损PNG</span>），其他网页程序可能有 1.6MB，源代码及离线（省流量）查看方法见<a href="https://github.com/Mapaler/DaJiaDeHuanXiangXiang-Skin#%E7%A6%BB%E7%BA%BF%E6%9F%A5%E7%9C%8B%E5%8A%9E%E6%B3%95" target="_blank">GitHub仓库</a>。</li>
        <li>数据是每次你访问本页面的时候即时从apk解压的游戏原始数据提取，“spell.plist”因为字符不符合xml规范，稍作了修改（"&amp;"→"&amp;amp;"），其他都是原样的。</li>
        <li>本地包里找不到皮肤普通宴出规则，所以没有普通宴出信息，有些普通皮肤也有限定信息，为何本地有这些信息原因不明。附：我收集的<a href="banquet-skin.html" target="_blank">皮肤获取方式</a></li>
        <li>实际的战斗判定和是否被宴请到是游戏服务器决定，与本地游戏包无关。所以这些信息仅作参考，不一定完全正确。</li>
        <li>有不认识的人物时，点击图鉴的角色名可以看人物介绍；点击人物立绘，可展开宽屏显示。</li>
        <li>Q版头像的晃动速度与总出击消耗相关（一般消耗越多越厉害所以就越慢）</li>
        <li>2019年1月31日 火狐65.0开始支持WebP了，可以节省很多流量哦！</li>
        <li>2019年11月11日 开始支持Chrome本地打开了哦</li>
    </ul>
    <script type="text/javascript">
        var msg = document.getElementById("message");
        msg.add = function(children) {
            var li = this.appendChild(document.createElement("li"));
            if (!children instanceof Array) { //如果传入不是数组，则改成数组
                children = [children];
            }
            for (var ci = 0; ci < children.length; ci++) {
                var child = children[ci];
                if (typeof(child) == "string" || typeof(child) == "number") {
                    li.appendChild(document.createTextNode(child));
                } else if (child.nodeName != undefined) {
                    li.appendChild(child);
                } else {
                    li.appendChild(document.createTextNode("未知的子节点类型"));
                }
            }
            return li;
        }
        if (/https?:/.test(location.protocol) && location.hostname != "mapaler.oschina.io" && location.hostname != "mapaler.gitee.io") {
            var lnk = document.createElement("a");
            lnk.href = "//mapaler.gitee.io/dajiadehuanxiangxiang-skin/";
            lnk.appendChild(document.createTextNode("网页链接"));
            lnk.target = "_blank";
            msg.add(["除了GitHub外，在国内“码云”部署了本图鉴的镜像，查看图片会快很多。", lnk]);
        }
    </script>
    <div id="skin-sort">
        <label>皮肤排序方式
        <select id="sort-type">
            <option value="return a.index-b.index;">皮肤编号</option>
            <option value="return a.skin.author.localeCompare(b.skin.author);">皮肤作者名称</option>
            <option value="return a.card.racename.localeCompare(b.card.racename);">角色种族</option>
            <option value="var as=a.skin,bs=b.skin;return (as.use_faith+as.use_food)-(bs.use_faith+bs.use_food);">出击总消耗量</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;function tt(c){return c.atk_mel+c.atk_rang+c.hp+c.def+c.hitrate+c.avoid+c.crit+c.lucky;} return (tt(ac)+tt(as))-(tt(bc)+tt(bs));">8项属性合计</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;function tt(c){return c.atk_mel+c.atk_rang+c.hp/5+c.def+c.hitrate+c.avoid+c.crit+c.lucky;} return (tt(ac)+tt(as))-(tt(bc)+tt(bs));">8项属性，其中血÷5合计</option>
            <option value="var as=a.skin,bs=b.skin;return as.basicpoint-bs.basicpoint;">8项属性基础点合计</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;function tt(c){return c.atk_mel+c.atk_rang+c.def+c.hitrate+c.avoid+c.crit+c.lucky;} return (tt(ac)+tt(as))-(tt(bc)+tt(bs));">去血7项属性合计</option>
            <option value="var as=a.skin,bs=b.skin;return (as.use_faith==bs.use_faith)?(as.use_food-bs.use_food):(as.use_faith-bs.use_faith);">信仰消耗量</option>
            <option value="var as=a.skin,bs=b.skin;return (as.use_food==bs.use_food)?(as.use_faith-bs.use_faith):(as.use_food-bs.use_food);">饭团消耗量</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.atk_mel+as.atk_mel)-(bc.atk_mel+bs.atk_mel);">力量值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.atk_rang+as.atk_rang)-(bc.atk_rang+bs.atk_rang);">灵力值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.hp+as.hp)-(bc.hp+bs.hp);">生命值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.def+as.def)-(bc.def+bs.def);">防御值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.hitrate+as.hitrate)-(bc.hitrate+bs.hitrate);">命中值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.avoid+as.avoid)-(bc.avoid+bs.avoid);">回避值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.crit+as.crit)-(bc.crit+bs.crit);">暴击值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.lucky+as.lucky)-(bc.lucky+bs.lucky);">幸运值</option>
            <option value="var as=a.skin,ac=a.card,bs=b.skin,bc=b.card;return (ac.block+as.block)-(bc.block+bs.block);">格挡值</option>
        </select>
        </label>
    </div>
    <div id="basic-info"></div>
    <ul id="banner-list"></ul>
</body>

</html>